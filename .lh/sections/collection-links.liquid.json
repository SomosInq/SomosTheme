{
    "sourceFile": "sections/collection-links.liquid",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1764244396124,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764244833118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,23 +38,17 @@\n     <div\n       class=\"collection-links__container\"\n       ref=\"container\"\n     >\n-      {% for collection in collection_list limit: limit %}\n+      {% for block in section.blocks %}\n         {% liquid\n+          assign collection = collections[block.settings.collection]\n           assign current = false\n-\n           if collection.id == active_collection.id\n             assign current = true\n           endif\n         %}\n-        {% content_for 'block',\n-          type: '_collection-link',\n-          id: 'link',\n-          closest.collection: collection,\n-          index: forloop.index0,\n-          current: current\n-        %}\n+        {% render block, closest: collection, index: forloop.index0, current: current %}\n       {% endfor %}\n     </div>\n \n     {% case section.settings.layout %}\n@@ -307,68 +301,32 @@\n       \"unit\": \"px\",\n       \"default\": 40\n     }\n   ],\n+  \"blocks\": [\n+    {\n+      \"type\": \"_collection-link\",\n+      \"name\": \"Collection Card\",\n+      \"settings\": [\n+        {\n+          \"type\": \"collection\",\n+          \"id\": \"collection\",\n+          \"label\": \"Collection\"\n+        }\n+      ]\n+    }\n+  ],\n   \"presets\": [\n     {\n       \"name\": \"t:names.collection_links_spotlight\",\n-      \"category\": \"t:categories.collections\",\n-      \"blocks\": {\n-        \"link\": {\n-          \"type\": \"_collection-link\",\n-          \"static\": true,\n-          \"blocks\": {\n-            \"title\": {\n-              \"type\": \"_inline-collection-title\",\n-              \"name\": \"t:names.title\",\n-              \"static\": true,\n-              \"settings\": {\n-                \"font\": \"var(--font-subheading--family)\"\n-              }\n-            },\n-            \"image\": {\n-              \"type\": \"_image\",\n-              \"static\": true,\n-              \"settings\": {\n-                \"height\": \"large\",\n-                \"ratio\": \"square\",\n-                \"custom_height\": 0\n-              }\n-            }\n-          }\n-        }\n-      }\n+      \"category\": \"t:categories.collections\"\n     },\n     {\n       \"name\": \"t:names.collection_links_text\",\n       \"category\": \"t:categories.collections\",\n       \"settings\": {\n         \"layout\": \"text\",\n         \"alignment\": \"center\"\n-      },\n-      \"blocks\": {\n-        \"link\": {\n-          \"type\": \"_collection-link\",\n-          \"static\": true,\n-          \"blocks\": {\n-            \"title\": {\n-              \"type\": \"_inline-collection-title\",\n-              \"name\": \"t:names.title\",\n-              \"static\": true,\n-              \"settings\": {\n-                \"font\": \"var(--font-subheading--family)\"\n-              }\n-            },\n-            \"image\": {\n-              \"type\": \"_image\",\n-              \"static\": true,\n-              \"settings\": {\n-                \"height\": \"medium\",\n-                \"custom_height\": 0\n-              }\n-            }\n-          }\n-        }\n       }\n     }\n   ]\n }\n"
                },
                {
                    "date": 1764244894383,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n           if collection.id == active_collection.id\n             assign current = true\n           endif\n         %}\n-        {% render block, closest: collection, index: forloop.index0, current: current %}\n+        {% render block, closest: collection, index: forloop.index0, current: current, type: 'collection-link' %}\n       {% endfor %}\n     </div>\n \n     {% case section.settings.layout %}\n@@ -303,9 +303,9 @@\n     }\n   ],\n   \"blocks\": [\n     {\n-      \"type\": \"_collection-link\",\n+      \"type\": \"collection-link\",\n       \"name\": \"Collection Card\",\n       \"settings\": [\n         {\n           \"type\": \"collection\",\n"
                },
                {
                    "date": 1764252854989,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,22 +62,9 @@\n               assign current = true\n             endif\n           %}\n \n-          {% capture slide %}\n-            {% # theme-check-disable UniqueStaticBlockId %}\n-            {% content_for 'block',\n-              type: '_collection-link',\n-              id: 'link',\n-              closest.collection: collection,\n-              index: forloop.index0,\n-              current: current,\n-              image_only: true\n-            %}\n-            {% # theme-check-enable UniqueStaticBlockId %}\n-          {% endcapture %}\n-\n-          {% render 'slideshow-slide', children: slide, index: forloop.index0 %}\n+          {# Removed static block reference. If you need to render a block, use dynamic blocks only. #}\n         {% endfor %}\n       {% endcapture %}\n \n         {% render 'slideshow',\n"
                }
            ],
            "date": 1764244396124,
            "name": "Commit-0",
            "content": "\n\n{% liquid\n  assign collection_list = section.settings.collection_list\n\n  if collection_list == blank\n    assign limit = 4\n\n    for i in (1..4)\n      assign collection_list = collection_list | append: ', '\n    endfor\n\n    assign collection_list = collection_list | split: ','\n  endif\n\n  assign active_collection = collection_list | find: 'id', collection.id | default: collection_list.first\n%}\n\n<script\n  src=\"{{ 'collection-links.js' | asset_url }}\"\n  type=\"module\"\n  fetchpriority=\"low\"\n></script>\n\n<div class=\"section-background color-{{ section.settings.color_scheme }}\"></div>\n<div\n  class=\"section section--{{ section.settings.section_width }} color-{{ section.settings.color_scheme }} spacing-style\"\n  style=\"{% render 'spacing-style', settings: section.settings %}\"\n  data-testid=\"collection-links-{{ section.id }}\"\n>\n  <collection-links-component\n    layout=\"{{ section.settings.layout }}\"\n    alignment=\"{{ section.settings.alignment }}\"\n    {% if section.settings.image_position == 'left' %}\n      reverse\n    {% endif %}\n  >\n    <div\n      class=\"collection-links__container\"\n      ref=\"container\"\n    >\n      {% for collection in collection_list limit: limit %}\n        {% liquid\n          assign current = false\n\n          if collection.id == active_collection.id\n            assign current = true\n          endif\n        %}\n        {% content_for 'block',\n          type: '_collection-link',\n          id: 'link',\n          closest.collection: collection,\n          index: forloop.index0,\n          current: current\n        %}\n      {% endfor %}\n    </div>\n\n    {% case section.settings.layout %}\n      {% when 'spotlight' %}\n        {% capture slides %}\n          {% for collection in collection_list limit: limit %}\n          {% liquid\n            assign current = false\n\n            if collection.id == active_collection.id\n              assign current = true\n            endif\n          %}\n\n          {% capture slide %}\n            {% # theme-check-disable UniqueStaticBlockId %}\n            {% content_for 'block',\n              type: '_collection-link',\n              id: 'link',\n              closest.collection: collection,\n              index: forloop.index0,\n              current: current,\n              image_only: true\n            %}\n            {% # theme-check-enable UniqueStaticBlockId %}\n          {% endcapture %}\n\n          {% render 'slideshow-slide', children: slide, index: forloop.index0 %}\n        {% endfor %}\n      {% endcapture %}\n\n        {% render 'slideshow',\n          slides: slides,\n          slide_count: collection_list.size,\n          class: 'collection-links__images',\n          ref: 'slideshow'\n        %}\n    {% endcase %}\n  </collection-links-component>\n</div>\n\n{% # theme-check-disable ValidBlockTarget %}\n{% stylesheet %}\n  collection-links-component {\n    --alignment: flex-start;\n\n    display: grid;\n    align-items: center;\n    grid-gap: var(--gap-3xl);\n\n    &:has([ratio='portrait']) {\n      --template-column-ratio: 0.8fr;\n    }\n\n    &:has([ratio='square']) {\n      --template-column-ratio: 1fr;\n    }\n\n    &:has([ratio='landscape']) {\n      --template-column-ratio: 1.4fr;\n    }\n\n    &[alignment='center'] {\n      --alignment: center;\n\n      .text-block {\n        text-align: center;\n      }\n    }\n\n    &[alignment='right'] {\n      --alignment: flex-end;\n\n      .text-block {\n        text-align: right;\n      }\n    }\n\n    &[layout='spotlight'] {\n      position: relative;\n      grid-template-columns: 1fr var(--template-column-ratio);\n      grid-template-areas: 'text image';\n\n      @media (min-width: 749px) {\n        &[reverse] {\n          grid-template-areas: 'image text';\n          grid-template-columns: var(--template-column-ratio) 1fr;\n        }\n      }\n\n      .collection-links__container {\n        align-items: var(--alignment);\n      }\n\n      @media (max-width: 749px) {\n        grid-template-columns: 1fr;\n        grid-template-areas: 'text' 'image';\n        grid-gap: var(--gap-2xl);\n\n        .collection-links__container {\n          gap: clamp(var(--gap-xs), 1vw, var(--gap-xl)) var(--gap-2xl);\n          justify-content: var(--alignment);\n        }\n      }\n    }\n\n    &[layout='text'] {\n      grid-gap: 0;\n      grid-template-areas: 'text';\n\n      .collection-links__container {\n        gap: clamp(var(--gap-xs), 1vw, var(--gap-xl)) var(--gap-2xl);\n        flex-wrap: wrap;\n        flex-direction: row;\n        justify-content: var(--alignment);\n      }\n    }\n  }\n\n  .collection-links__container {\n    display: flex;\n    gap: var(--gap-md);\n    flex-direction: column;\n  }\n\n  .collection-links__images {\n    overflow: hidden;\n    grid-area: image;\n\n    @media (max-width: 749px) {\n      image-block {\n        max-width: 100%;\n      }\n    }\n  }\n{% endstylesheet %}\n\n{% schema %}\n{\n  \"name\": \"t:names.collection_links\",\n  \"disabled_on\": {\n    \"groups\": [\"header\", \"footer\"]\n  },\n  \"settings\": [\n    {\n      \"type\": \"collection_list\",\n      \"id\": \"collection_list\",\n      \"label\": \"t:settings.collection_list\"\n    },\n    {\n      \"type\": \"header\",\n      \"content\": \"t:content.layout\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"layout\",\n      \"label\": \"t:settings.layout\",\n      \"options\": [\n        {\n          \"value\": \"spotlight\",\n          \"label\": \"t:options.spotlight\"\n        },\n        {\n          \"value\": \"text\",\n          \"label\": \"t:options.text\"\n        }\n      ],\n      \"default\": \"spotlight\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"section_width\",\n      \"label\": \"t:settings.width\",\n      \"options\": [\n        {\n          \"value\": \"page-width\",\n          \"label\": \"t:options.page\"\n        },\n        {\n          \"value\": \"full-width\",\n          \"label\": \"t:options.full\"\n        }\n      ],\n      \"default\": \"page-width\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"alignment\",\n      \"label\": \"t:settings.alignment\",\n      \"options\": [\n        {\n          \"value\": \"left\",\n          \"label\": \"t:options.left\"\n        },\n        {\n          \"value\": \"center\",\n          \"label\": \"t:options.center\"\n        },\n        {\n          \"value\": \"right\",\n          \"label\": \"t:options.right\"\n        }\n      ],\n      \"default\": \"left\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"image_position\",\n      \"label\": \"t:settings.image_position\",\n      \"options\": [\n        {\n          \"value\": \"left\",\n          \"label\": \"t:options.left\"\n        },\n        {\n          \"value\": \"right\",\n          \"label\": \"t:options.right\"\n        }\n      ],\n      \"default\": \"right\",\n      \"visible_if\": \"{{ section.settings.layout == \\\"spotlight\\\" }}\"\n    },\n    {\n      \"type\": \"color_scheme\",\n      \"id\": \"color_scheme\",\n      \"label\": \"t:settings.color_scheme\",\n      \"default\": \"scheme-1\"\n    },\n    {\n      \"type\": \"header\",\n      \"content\": \"t:content.padding\"\n    },\n    {\n      \"type\": \"range\",\n      \"id\": \"padding-block-start\",\n      \"label\": \"t:settings.top\",\n      \"min\": 0,\n      \"max\": 100,\n      \"step\": 1,\n      \"unit\": \"px\",\n      \"default\": 40\n    },\n    {\n      \"type\": \"range\",\n      \"id\": \"padding-block-end\",\n      \"label\": \"t:settings.bottom\",\n      \"min\": 0,\n      \"max\": 100,\n      \"step\": 1,\n      \"unit\": \"px\",\n      \"default\": 40\n    }\n  ],\n  \"presets\": [\n    {\n      \"name\": \"t:names.collection_links_spotlight\",\n      \"category\": \"t:categories.collections\",\n      \"blocks\": {\n        \"link\": {\n          \"type\": \"_collection-link\",\n          \"static\": true,\n          \"blocks\": {\n            \"title\": {\n              \"type\": \"_inline-collection-title\",\n              \"name\": \"t:names.title\",\n              \"static\": true,\n              \"settings\": {\n                \"font\": \"var(--font-subheading--family)\"\n              }\n            },\n            \"image\": {\n              \"type\": \"_image\",\n              \"static\": true,\n              \"settings\": {\n                \"height\": \"large\",\n                \"ratio\": \"square\",\n                \"custom_height\": 0\n              }\n            }\n          }\n        }\n      }\n    },\n    {\n      \"name\": \"t:names.collection_links_text\",\n      \"category\": \"t:categories.collections\",\n      \"settings\": {\n        \"layout\": \"text\",\n        \"alignment\": \"center\"\n      },\n      \"blocks\": {\n        \"link\": {\n          \"type\": \"_collection-link\",\n          \"static\": true,\n          \"blocks\": {\n            \"title\": {\n              \"type\": \"_inline-collection-title\",\n              \"name\": \"t:names.title\",\n              \"static\": true,\n              \"settings\": {\n                \"font\": \"var(--font-subheading--family)\"\n              }\n            },\n            \"image\": {\n              \"type\": \"_image\",\n              \"static\": true,\n              \"settings\": {\n                \"height\": \"medium\",\n                \"custom_height\": 0\n              }\n            }\n          }\n        }\n      }\n    }\n  ]\n}\n{% endschema %}\n{% # theme-check-enable ValidBlockTarget %}\n"
        }
    ]
}