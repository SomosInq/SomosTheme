{
    "sourceFile": "blocks/_image.liquid",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1764242923278,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764243712685,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,12 @@\n   assign sizes = 'auto, (min-width: 750px) ' | append: media_width_desktop | append: ', ' | append: media_width_mobile\n   assign widths = '240, 352, 832, 1200, 1600, 1920, 2560'\n %}\n \n+{% assign custom_height_style = '' %}\n+{% if block.settings.custom_height and block.settings.custom_height > 0 %}\n+  {% assign custom_height_style = 'height:' | append: block.settings.custom_height | append: 'px;max-height:' | append: block.settings.custom_height | append: 'px;' %}\n+{% endif %}\n {% if image %}\n   <image-block\n     ratio=\"{{ block_settings.ratio }}\"\n     height=\"{{ block_settings.height }}\"\n@@ -28,9 +32,9 @@\n   >\n     {{\n       image\n       | image_url: width: 2560\n-      | image_tag: width: width, widths: widths, sizes: sizes, loading: loading, alt: alt, style: (block.settings.custom_height and block.settings.custom_height > 0) ? 'height:' | append: block.settings.custom_height | append: 'px;max-height:' | append: block.settings.custom_height | append: 'px;' : ''\n+      | image_tag: width: width, widths: widths, sizes: sizes, loading: loading, alt: alt, style: custom_height_style\n     }}\n   </image-block>\n {% else %}\n   <image-block\n@@ -38,9 +42,9 @@\n     height=\"{{ block_settings.height }}\"\n     style=\"--border-radius: {{ block_settings.border_radius }}px;\"\n     {{ block.shopify_attributes }}\n   >\n-    {{ placeholder | default: 'hero-apparel-2' | placeholder_svg_tag: 'hero__image', style: (block.settings.custom_height and block.settings.custom_height > 0) ? 'height:' | append: block.settings.custom_height | append: 'px;max-height:' | append: block.settings.custom_height | append: 'px;' : '' }}\n+    {{ placeholder | default: 'hero-apparel-2' | placeholder_svg_tag: 'hero__image', style: custom_height_style }}\n   </image-block>\n {% endif %}\n \n {% stylesheet %}\n"
                }
            ],
            "date": 1764242923277,
            "name": "Commit-0",
            "content": "\n\n{%- doc -%}\n  Renders an image block.\n\n  @param {string} [loading] - The html loading attribute\n  @param {string} [placeholder] - The placeholder image name to use when no image is provided, defaults to 'hero-apparel-2'\n{%- enddoc -%}\n\n{% assign block_settings = block.settings %}\n{% assign image = closest.collection.featured_image | default: closest.product.featured_image %}\n{% assign alt = closest.collection.title | default: closest.product.title %}\n\n{% liquid\n  assign width = '100%'\n  assign media_width_desktop = '100vw'\n  assign media_width_mobile = '100vw'\n  assign sizes = 'auto, (min-width: 750px) ' | append: media_width_desktop | append: ', ' | append: media_width_mobile\n  assign widths = '240, 352, 832, 1200, 1600, 1920, 2560'\n%}\n\n{% if image %}\n  <image-block\n    ratio=\"{{ block_settings.ratio }}\"\n    height=\"{{ block_settings.height }}\"\n    style=\"--border-radius: {{ block_settings.border_radius }}px;\"\n    {{ block.shopify_attributes }}\n  >\n    {{\n      image\n      | image_url: width: 2560\n      | image_tag: width: width, widths: widths, sizes: sizes, loading: loading, alt: alt, style: (block.settings.custom_height and block.settings.custom_height > 0) ? 'height:' | append: block.settings.custom_height | append: 'px;max-height:' | append: block.settings.custom_height | append: 'px;' : ''\n    }}\n  </image-block>\n{% else %}\n  <image-block\n    ratio=\"{{ block_settings.ratio }}\"\n    height=\"{{ block_settings.height }}\"\n    style=\"--border-radius: {{ block_settings.border_radius }}px;\"\n    {{ block.shopify_attributes }}\n  >\n    {{ placeholder | default: 'hero-apparel-2' | placeholder_svg_tag: 'hero__image', style: (block.settings.custom_height and block.settings.custom_height > 0) ? 'height:' | append: block.settings.custom_height | append: 'px;max-height:' | append: block.settings.custom_height | append: 'px;' : '' }}\n  </image-block>\n{% endif %}\n\n{% stylesheet %}\n  image-block {\n    --image-height-basis: 10rem;\n    --image-height-small: calc(var(--image-height-basis) * 2);\n    --image-height-medium: calc(var(--image-height-basis) * 3);\n    --image-height-large: calc(var(--image-height-basis) * 4);\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    aspect-ratio: var(--ratio);\n    width: 100%;\n    max-width: calc(var(--image-height) * var(--ratio));\n    height: var(--image-height);\n    overflow: hidden;\n\n    @media screen and (min-width: 750px) {\n      --image-height-small: calc(var(--image-height-basis) * 2.5);\n      --image-height-medium: calc(var(--image-height-basis) * 3.5);\n      --image-height-large: calc(var(--image-height-basis) * 4.5);\n    }\n\n    @media screen and (max-width: 749px) {\n      height: auto;\n    }\n\n    &[height='small'] {\n      --image-height: var(--image-height-small);\n    }\n\n    &[height='medium'] {\n      --image-height: var(--image-height-medium);\n    }\n\n    &[height='large'] {\n      --image-height: var(--image-height-large);\n    }\n\n    &[ratio='portrait'] {\n      --ratio: 4 / 5;\n    }\n\n    &[ratio='square'] {\n      --ratio: 1 / 1;\n\n      @media screen and (min-width: 750px) {\n        max-width: var(--image-height);\n      }\n    }\n\n    &[ratio='landscape'] {\n      --ratio: 16 / 9;\n    }\n\n    img {\n      object-fit: cover;\n      width: 100%;\n      height: auto;\n      aspect-ratio: var(--ratio);\n      border-radius: var(--border-radius);\n        {% if block.settings.custom_height and block.settings.custom_height > 0 %}\n          /* height and max-height moved to inline style */\n        {% endif %}\n    }\n  }\n{% endstylesheet %}\n\n{% schema %}\n{\n  \"name\": \"t:names.image\",\n  \"tag\": null,\n  \"settings\": [\n    {\n      \"type\": \"paragraph\",\n      \"content\": \"t:content.resource_reference_collection_card_image\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"height\",\n      \"label\": \"t:settings.height\",\n      \"options\": [\n        {\n          \"value\": \"small\",\n          \"label\": \"t:options.small\"\n        },\n        {\n          \"value\": \"medium\",\n          \"label\": \"t:options.medium\"\n        },\n        {\n          \"value\": \"large\",\n          \"label\": \"t:options.large\"\n        }\n      ],\n      \"default\": \"large\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"ratio\",\n      \"label\": \"t:settings.ratio\",\n      \"options\": [\n        {\n          \"value\": \"portrait\",\n          \"label\": \"t:options.portrait\"\n        },\n        {\n          \"value\": \"square\",\n          \"label\": \"t:options.square\"\n        },\n        {\n          \"value\": \"landscape\",\n          \"label\": \"t:options.landscape\"\n        }\n      ],\n      \"default\": \"portrait\"\n    },\n    {\n      \"type\": \"range\",\n      \"id\": \"custom_height\",\n      \"label\": \"Custom image height (px)\",\n      \"min\": 0,\n      \"max\": 800,\n      \"step\": 10,\n      \"unit\": \"px\",\n      \"default\": 0,\n      \"info\": \"Overrides preset height for collection card images if set.\"\n    },\n    {\n      \"type\": \"range\",\n      \"id\": \"border_radius\",\n      \"label\": \"t:settings.border_radius\",\n      \"min\": 0,\n      \"max\": 32,\n      \"step\": 1,\n      \"unit\": \"px\",\n      \"default\": 0\n    }\n  ]\n}\n{% endschema %}\n"
        }
    ]
}